"use strict";!function(e){e.module("inspirehepHoldingPen",["xeditable","ui.bootstrap","fps.hotkeys","holdingpen","holdingpen.filters","angular.filter"]).run(["editableOptions","editableThemes",function(e,t){t.bs3.inputClass="input-md",t.bs3.buttonsClass="btn-md",e.theme="bs3"}])}(angular),function(e){e.module("inspirehepSearch",["invenioSearch","inspirehepFacetsShowMore","inspirehepExport","inspirehepPermissions","inspirehepSearch.filters","ui.bootstrap","authors"])}(angular),function(e){e.module("holdingpen",["xeditable","ui.bootstrap","fps.hotkeys","holdingpen.directives","holdingpen.controllers","holdingpen.services","angular.filter"]),invenioHoldingPen.run(["editableOptions","editableThemes",function(e,t){t.bs3.inputClass="input-md",t.bs3.buttonsClass="btn-md",e.theme="bs3"}])}(angular),holding(function(e){e.module("holdingpen.filters",["holdingpen.filters.abstract","holdingpen.filters.categories"])})(angular),holding(function(e){e.module("authors",["ui.bootstrap","authors.directives","authors.controllers"])})(angular),function(e){e.module("inspirehepSearch.filters",["ngSanitize","inspirehepSearch.filters.abstract","inspirehepSearch.filters.authorInstitution","inspirehepSearch.filters.arxiv","inspirehepSearch.filters.arxivInfo","inspirehepSearch.filters.capitalize","inspirehepSearch.filters.collaboration","inspirehepSearch.filters.corporateAuthor","inspirehepSearch.filters.date","inspirehepSearch.filters.datePassedNow","inspirehepSearch.filters.doi","inspirehepSearch.filters.publicationInfo","inspirehepSearch.filters.publicationInfoDoi","inspirehepSearch.filters.conferenceFormat","inspirehepSearch.filters.journalFormat","inspirehepSearch.filters.reportNumber","inspirehepSearch.filters.title"])}(angular),function(e){e.module("inspirehepPermissions",["permissions.directives","permissions.controllers"])}(angular),function(e){function t(t,r,n,o){function i(e){method=e._source.metadata.acquisition_source.method,method in t.vm.selected_record_methods?t.vm.selected_record_methods[method]++:t.vm.selected_record_methods[method]=1}function a(e){method=e._source.metadata.acquisition_source.method,t.vm.selected_record_methods[method]--}function s(e){o.location=e}function c(e){return t.vm.selected_records.indexOf(+e)}function l(e){var r=e._source._workflow.data_type;f(e._id)?(a(e),t.vm.selected_records.splice(c(+e._id),1),r in t.vm.selected_record_decisions&&t.vm.selected_record_decisions[r].splice(t.vm.selected_record_decisions[r].indexOf(+e._id),1)):(i(e),t.vm.selected_records.push(+e._id),r&&(r in t.vm.selected_record_decisions||(t.vm.selected_record_decisions[r]=[]),void 0!==e._source._extra_data&&void 0!=e._source._extra_data.user_action||t.vm.selected_record_decisions[r].push(+e._id)))}function u(e,r){n.setBatchDecision(t.vm.invenioSearchResults.hits.hits,[+e],r)}function d(){h()?p():e.forEach(t.$parent.vm.invenioSearchResults.hits.hits,function(e){f(e._id)||(i(e),t.vm.selected_records.push(+e._id),e._source._workflow.data_type&&(e._source._workflow.data_type in t.vm.selected_record_decisions||(t.vm.selected_record_decisions[e._source._workflow.data_type]=[]),void 0!==e._source._extra_data&&void 0!=e._source._extra_data.user_action||t.vm.selected_record_decisions[e._source._workflow.data_type].push(e._id)))})}function f(e){return-1!==c(+e)}function h(){return!!t.$parent.vm.invenioSearchResults.hits&&t.vm.selected_records.length===t.$parent.vm.invenioSearchResults.hits.hits.length}function p(){t.vm.selected_records=[],t.vm.selected_record_decisions={},t.vm.selected_record_methods=[]}t.vm.selected_records=[],t.vm.selected_record_decisions={},t.vm.selected_record_methods={},t.toggleSelection=l,t.toggleAll=d,t.isChecked=f,t.allChecked=h,t.setDecision=u,t.redirect=s;var m=r.createHotkey({key:"ctrl+a",callback:function(e){e.preventDefault(),d()}});r.registerHotkey(m),t.$on("invenio.search.success",p)}t.$inject=["$scope","Hotkeys","HoldingPenRecordService","$window"],e.module("holdingpen.controllers",[]).controller("HoldingPenSelectionCtrl",t)}(angular),function(e){function t(){function e(e,t){return t.template}return{templateUrl:e,restrict:"AE",scope:!1,controller:["$scope","HoldingPenRecordService","$uibModal",function(e,t,r){e.modal=void 0,e.BatchUtils={setDecision:function(r,n){console.debug(e.vm.selected_record_decisions[r]),t.setBatchDecision(e.vm.invenioSearchResults.hits.hits,e.vm.selected_record_decisions[r],n),e.modal.dismiss("cancel")},showConfirm:function(t,n){e.data_type=t,e.operation=n,e.modal=r.open({templateUrl:"/static/node_modules/inspirehep-holdingpen-js/dist/templates/modals/batch_"+n+"_modal.html"})},hideConfirm:function(){e.modal.dismiss("cancel")},restartWorkflows:function(){for(var r in e.vm.selected_records)t.restartWorkflow(e.vm,e.vm.selected_records[r]);e.vm.batch_message=e.vm.selected_records.length+" workflows restarted."},resumeWorkflows:function(){for(var r in e.vm.selected_records)t.resumeWorkflow(e.vm,e.vm.selected_records[r]);e.vm.batch_message=e.vm.selected_records.length+" workflows resumed.",e.modal.dismiss("cancel")},deleteWorkflows:function(){for(var r in e.vm.selected_records)t.deleteRecord(e.vm,e.vm.selected_records[r],!1);window.location="/holdingpen/list",e.vm.batch_message=e.vm.selected_records.length+" workflows deleted.",e.modal.dismiss("cancel")},methodItemsChecked:function(t){var r=e.vm.selected_record_methods[t];return!!(r&&r>0)}}}]}}function r(){function t(e,t){return t.template}return{templateUrl:t,restrict:"AE",scope:{workflowId:"@workflowId"},controller:["$scope","HoldingPenRecordService","$uibModal","$window",function(t,r,n,o){function i(e){void 0!==e&&t.vm.reasons.length&&(t.vm.reason=t.vm.reasons[e].content)}function a(e){e&&"hep"===t.vm.record._workflow.data_type&&"submitter"===e.acquisition_source.method&&(t.vm.reasons=[{title:"Rejection",content:"Dear "+e.acquisition_source.email+',\n\n            Thanks for suggesting "'+e.titles[0].title+'". We regret to inform you that we cannot include it in our database as it is outside the focus of INSPIRE. For details please check our collection policy at: https://inspirehep.net/info/hep/collection-policy.\n\n            Thanks again for collaborating with INSPIRE! We are looking forward to further suggestions you might have.'},{title:"Duplicate",content:"Dear "+e.acquisition_source.email+',\n\n            Thanks for suggesting "'+e.titles[0].title+'". We already have it in our database, you can find it here: http://inspirehep.net/record/INSERT_RECID.\n\n            Thanks again for collaborating with INSPIRE! We are looking forward to further suggestions you might have.'},{title:"Will be harvested",content:"Dear "+e.acquisition_source.email+',\n\n            Thanks for suggesting "'+e.titles[0].title+'". This article was published in a journal that we harvest automatically as part of our regular workflow. It is still in the queue of papers being processed and should appear in the coming weeks.\n\n            Thanks again for collaborating with INSPIRE! We are looking forward to further suggestions you might have.'}])}t.vm={},t.vm.loading=!0,t.vm.new_subject_area="",t.vm.new_keyword="",t.vm.pdf_upload=!1,t.vm.reason="",t.vm.reason_index=0,t.vm.reasons=[],t.modal=void 0,t.vm.inspire_categories=["Accelerators","Astrophysics","Computing","Data Analysis and Statistics","Experiment-HEP","Experiment-Nucl","General Physics","Gravitation and Cosmology","Instrumentation","Lattice","Math and Math Physics","Other","Phenomenology-HEP","Theory-HEP","Theory-Nucl"],t.vm.code_to_inspire_categories={a:"Astrophysics",b:"Accelerators",c:"Computing",e:"Experiment-HEP",g:"Gravitation and Cosmology",i:"Instrumentation",l:"Lattice",m:"Math and Math Physics",n:"Theory-Nucl",o:"Other",p:"Phenomenology-HEP",q:"General Physics",t:"Theory-HEP",x:"Experiment-Nucl"},t.degree_types=[{value:"Bachelor",text:"Bachelor"},{value:"Habilitation",text:"Habilitation"},{value:"Laurea",text:"Laurea"},{value:"Diploma",text:"Diploma"},{value:"Masters",text:"Master"},{value:"PhD",text:"PhD"},{value:"Thesis",text:"Thesis"}],t.doUpdate=function(){t.vm.update_ready=!0,t.vm.saved=!1,t.$emit()},r.getRecord(t.vm,t.workflowId),t.$watch("vm.record.metadata",a,!0),t.$watch("vm.reason_index",i),t.Utils={keys:function(e){return null!=e?Object.keys(e):[]},setRejectionReason:function(){t.modal=n.open({templateUrl:"/static/node_modules/inspirehep-holdingpen-js/dist/templates/modals/rejection_reason_modal.html",scope:t})},showRejectionReason:function(){t.modal=n.open({templateUrl:"/static/node_modules/inspirehep-holdingpen-js/dist/templates/modals/generic_info_modal.html",scope:e.extend(t,{modalTitle:"Reason for rejection",modalBody:'<pre class="text-wrap">'+t.vm.record._extra_data.reason+"</pre>"})})},updateRecord:function(){r.updateRecord(t.vm,t.workflowId)},setDecision:function(e){r.updateRecord(t.vm,t.workflowId).then(function(n){r.setDecision(t.vm,t.workflowId,e)})},redirect:function(e){o.location=e},addSubjectArea:function(){t.vm.new_subject_area in t.vm.code_to_inspire_categories&&(t.vm.new_subject_area=t.vm.code_to_inspire_categories[t.vm.new_subject_area]),-1!=t.vm.inspire_categories.indexOf(t.vm.new_subject_area)&&(function(e){for(var r=0;r<t.vm.record.metadata.inspire_categories.length;r++)if(t.vm.record.metadata.inspire_categories[r].term===e)return!0;return!1}(t.vm.new_subject_area)||(t.vm.record.metadata.inspire_categories.unshift({source:"curator",term:t.vm.new_subject_area}),t.vm.new_subject_area="",t.doUpdate()))},addKeyword:function(){t.vm.new_keyword&&(t.vm.record._extra_data.keywords_prediction||(t.vm.record._extra_data.keywords_prediction={}),t.vm.record._extra_data.keywords_prediction.keywords||(t.vm.record._extra_data.keywords_prediction.keywords=[]),t.vm.record._extra_data.keywords_prediction.keywords.unshift({score:1,label:t.vm.new_keyword,accept:!0}),t.vm.new_keyword="",t.doUpdate())},deleteSubject:function(e){var r=t.vm.record.metadata.inspire_categories||t.vm.record.metadata.arxiv_categories;e<r.length&&r.splice(e,1),t.doUpdate()},deleteRecord:function(){r.deleteRecord(t.vm,t.workflowId,!0)},registerUpdateEvent:function(){t.doUpdate()},resumeWorkflow:function(){r.resumeWorkflow(t.vm,t.workflowId)},restartWorkflow:function(){r.restartWorkflow(t.vm,t.workflowId)}}}]}}function n(){function e(e,t){return t.template}return{templateUrl:e,restrict:"AE",scope:!0}}function o(){function e(e,t){return t.template}return{templateUrl:e,restrict:"AE",scope:{Utils:"=utils",record:"=record"}}}function i(){function e(e,t){return t.template}return{templateUrl:e,restrict:"AE",scope:{sectionTitle:"@sectionTitle",filterString:"@filterString",secondaryFilter:"@secondaryFilter"},controller:["$scope","$http",function(e,t){e.get_filter_string=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r="";return""!==t&&(r="?"),void 0!==e.filterString&&(r="?"+e.filterString+"&"),r+=t},t.get("/api/holdingpen/"+e.get_filter_string(e.filterString)).then(function(t){e.vm=e,e.vm.total=t.data.hits.total,e.vm.secondary_filters={WAITING:0,ERROR:0,HALTED:0,COMPLETED:0};for(var r in t.data.aggregations[e.secondaryFilter].buckets){var n=t.data.aggregations[e.secondaryFilter].buckets[r];e.vm.secondary_filters[n.key]=+n.doc_count}e.vm.class_name=e.sectionTitle.toLowerCase().replace(/ /g,"-")}).catch(function(t){console.error("Problem occurred when getting "+e.primary_filter_key)})}]}}function a(e){return function(t,r,n){var o=r.attr("id");$("#"+r.attr("id")).autocomplete({source:t.vm[n.uiItems],select:function(n,i){e(function(){$(this).val(i.item?i.item.value:""),t.vm[o]=i.item.value,$("#"+r.attr("id")).trigger("input")},0)}})}}e.module("holdingpen.directives",[]).directive("holdingPenDecision",o).directive("holdingPen",r).directive("holdingPenBatchDecision",t).directive("holdingPenDashboardItem",i).directive("holdingPenTemplateHandler",n).directive("autocomplete",a)}(angular),function(e){e.module("holdingpen.services",[]).factory("HoldingPenRecordService",["$http",function(e){return{getRecord:function(t,r){e.get("/api/holdingpen/"+r).then(function(e){t.record=e.data,"authors"==t.record._workflow.data_type?$("#breadcrumb").html(t.record.metadata.name.value):$("#breadcrumb").html(t.record.metadata.titles[0].title.substring(0,70)+"...")}).catch(function(e){t.ingestion_complete=!1,alert(e)})},updateRecord:function(t,r){return e.post("/api/holdingpen/"+r+"/action/edit",t.record).then(function(e){t.saved=!0,t.update_ready=!1}).catch(function(e){t.saved=!1,t.update_ready=!0,alert("Sorry, an error occurred when saving. Please try again.")})},setDecision:function(t,r,n){var o=JSON.stringify({value:n,pdf_upload:t.pdf_upload,reason:t.reason});e.post("/api/holdingpen/"+r+"/action/resolve",o).then(function(e){t.ingestion_complete=!0;var r=t.record;r||(r=t),r._extra_data||(r._extra_data={}),r._extra_data.user_action=n,r._extra_data._action=null}).catch(function(e){t.error=e})},setBatchDecision:function(t,r,n){for(var o in r){var i=r[o],a=JSON.stringify({value:n,id:i});e.post("/api/holdingpen/"+i+"/action/resolve",a).then(function(e){var r=JSON.parse(e.config.data);for(var o in t)if(+r.id==+t[o]._id){var i=t[o]._source;i._extra_data||(i._extra_data={}),i._extra_data.user_action=n,i._workflow.status="WAITING"}})}r=[]},deleteRecord:function(t,r,n){e.delete("/api/holdingpen/"+r,t.record).then(function(e){t.ingestion_complete=!0,n&&(window.location="/holdingpen/list/")}).catch(function(e){t.ingestion_complete=!1})},resumeWorkflow:function(t,r){e.post("/api/holdingpen/"+r+"/action/resume").then(function(e){t.workflow_flag="Workflow resumed"}).catch(function(e){t.resumed=!1})},restartWorkflow:function(t,r){e.post("/api/holdingpen/"+r+"/action/restart").then(function(e){t.workflow_flag="Workflow restarted"}).catch(function(e){t.restarted=!1})}}}])}(angular),function(e){function t(){return function(e){function t(e){return r[e]||e}if(void 0!==e){for(var r={"&":"&amp;","<":"&lt;",">":"&gt;"},n="",o=0;o<e.length;o++)"arXiv"!==e[o].source&&void 0!==e[o].value?n=e[o].value:void 0!==e[o].value&&(n=e[o].value);return n.replace(/[&<>]/g,t)}}}e.module("holdingpen.filters.abstract",["ngSanitize"]).filter("abstract",t)}(angular),function(e){function t(){return function(e){var t=e.inspire_categories,r=e.arxiv_eprints,n=e.arxiv_categories,o=[];if(t)for(var i=0;i<t.length;i++)o.push(t[i].term);if(r)for(var i=0;i<r.length;i++)for(var a=r[i].categories,s=0;s<a.length;s++)o.push(a[s]);else if(n)for(var i=0;i<n.length;i++)o.push(n[i]);return o.filter(function(e,t,r){return r.indexOf(e)===t})}}e.module("holdingpen.filters.categories",[]).filter("categories",t)}(angular),function(e){function t(e){function t(){var e=[];if(void 0!==o.authors){for(var t=0;t<o.authors.length;t++)o.authors[t].full_name&&e.push(n(o.authors[t]));return e}}function r(e){return e.split(",").reverse().join(" ")}function n(e){var t={};return t.full_name=e.full_name,void 0!==e.affiliations&&e.affiliations.length>0&&(t.affiliation=e.affiliations[0].value),t}var o=this;o.getAuthors=t,o.splitAuthorName=r,o.renderAuthorNames=n}t.$inject=["$scope"],e.module("authors.controllers",[]).controller("authorCtrl",t)}(angular),function(e){function t(){function e(e,t,r,n){""!==r.authors&&(n.authors=JSON.parse(r.authors)),""!==r.collaboration&&(n.collaboration=JSON.parse(r.collaboration)),n.numberOfAuthors=parseInt(r.numberOfAuthors),n.controlNumber=parseInt(r.controlNumber),n.AUTHORS_LIMIT=10,n.authorsInfo=n.getAuthors()}function t(e,t){return t.authorsTemplate}return{templateUrl:t,restrict:"E",controller:"authorCtrl",controllerAs:"vm",scope:!0,link:e}}e.module("authors.directives",[]).directive("authorsAffiliation",t)}(angular),function(e){function t(){return function(e){function t(e){return r[e]||e}if(void 0!==e){for(var r={"&":"&amp;","<":"&lt;",">":"&gt;"},n="",o=0;o<e.length;o++)"arXiv"!==e[o].source&&void 0!==e[o].value?n=e[o].value:void 0!==e[o].value&&(n=e[o].value);return n.replace(/[&<>]/g,t)}}}e.module("inspirehepSearch.filters.abstract",[]).filter("abstract",t)}(angular),function(e){function t(){return function(e){if(void 0!==e){for(var t="",r=0;r<e.length;r++){t=e[r].value;break}return t}}}e.module("inspirehepSearch.filters.arxiv",[]).filter("arxiv",t)}(angular),function(e){function t(){return function(e){if(void 0!==e){for(var t="",r="",n=0;n<e.length;n++)t='e-Print: <a href="http://arxiv.org/abs/'+e[n].value+'" >'+e[n].value+"</a>",e[n].categories&&(r="["+e[n].categories[0]+"]");return t+" "+r}}}e.module("inspirehepSearch.filters.arxivInfo",[]).filter("arxivInfo",t)}(angular),function(e){function t(){return function(e){if(void 0!==e){for(var t="",r=0;r<e.length;r++)if(void 0!==e[r].institution&&void 0!==e[r].institution.name){if(void 0!==e[r].status&&"current"===e[r].status.toLowerCase())return"("+e[r].institution.name+")";t||(t=e[r].institution.name)}return t?"("+t+")":void 0}}}e.module("inspirehepSearch.filters.authorInstitution",[]).filter("authorInstitution",t)}(angular),function(e){function t(){return function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}}e.module("inspirehepSearch.filters.capitalize",[]).filter("capitalize",t)}(angular),function(e){function t(){return function(e,t){if(void 0!==e){var r=[],n="";if(!t)for(var o=0;o<e.length;o++)e[o].value&&r.push('<a href="/search?p=collaboration:'+e[o].value+'">'+e[o].value+"</a>");return 0!==r.length&&(n=r.join(" and ")+(r.length>1?" Collaborations":" Collaboration")),n}}}e.module("inspirehepSearch.filters.collaboration",[]).filter("collaboration",t)}(angular),function(e){function t(){return function(e,t){if(void 0!==e){var r="";return e.conference_recid&&e.parent_recid?t?r+=' (<a href="/record/'+e.parent_recid+'">Proceedings</a> of <a href="/record/'+e.conference_recid+'">'+e.conference_title+"</a>)":(r+='Published in <a href="/record/'+e.parent_recid+'">proceedings</a> of <a href="/record/'+e.conference_recid+'">'+e.conference_title+"</a>",e.page_start&&e.page_end&&(r+=", pages "+e.page_start+"-"+e.page_end)):e.conference_recid&&!e.parent_recid?(t&&(r+="<br>"),r+='Contribution to <a href="/record/'+e.conference_recid+'">'+e.conference_title+"</a>"):!e.conference_recid&&e.parent_recid&&(r+=t?' (<a href="/record/'+e.parent_recid+'">Proceedings</a> of '+e.parent_title+")":'Published in <a href="/record/'+e.parent_recid+'">proceedings</a> of '+e.parent_title),r}}}e.module("inspirehepSearch.filters.conferenceFormat",[]).filter("conferenceFormat",t)}(angular),function(e){function t(){return function(e,t){if(void 0!==e);else if(t)return t[0]}}e.module("inspirehepSearch.filters.corporateAuthor",[]).filter("corporateAuthor",t)}(angular),function(e){function t(){return function(e,t,r,n){return void 0===t&&void 0===r&&void 0===n?e:"- "+e}}e.module("inspirehepSearch.filters.date",[]).filter("date",t)}(angular),function(e){function t(){return function(e){var t=new Date;return new Date(e)>=t}}e.module("inspirehepSearch.filters.datePassedNow",[]).filter("datePassedNow",t)}(angular),function(e){function t(){return function(e){if(void 0!==e){for(var t=[],r=0;r<e.length;r++)e[r].value&&t.push('<a href="http://dx.doi.org/'+e[r].value+'" title="DOI" >'+e[r].value+"</a>");return 0!==t.length?"DOI: "+t.join(", "):""}}}e.module("inspirehepSearch.filters.doi",[]).filter("doi",t)}(angular),function(e){function t(){return function(e){if(void 0!==e){var t="";return e.journal_title?(t+="<i>"+e.journal_title+"</i> ",e.journal_volume&&(t+=e.journal_volume),e.year&&(t+=" ("+e.year+")"),e.journal_issue&&(t+=" "+e.journal_issue+","),e.page_start&&e.page_end?t+=" "+e.page_start+"-"+e.page_end:e.page_start?t+=" "+e.page_start:e.artid&&(t+=" "+e.artid)):e.pubinfo_freetext&&(t+=e.pubinfo_freetext),t}}}e.module("inspirehepSearch.filters.journalFormat",[]).filter("journalFormat",t)}(angular),function(e){function t(e,t){return function(r,n){if(void 0!==r){var o,i,a="",s=[];for(o=0,i=r.length;o<i;o++)r[o].journal_title&&s.push(t(r[o]));s&&(a=s.join(" and "));var c="";if(n)for(o=0,i=n.length;o<i;o++)(c=e(n[o],s.length))&&(a+=" "+c);return a&&s.length?"Published in "+a:a}}}e.module("inspirehepSearch.filters.publicationInfo",[]).filter("publicationInfo",["conferenceFormatFilter","journalFormatFilter",t])}(angular),function(e){function t(e,t){return function(r,n,o){if(void 0!==r){var i="Published in ";if(i+='<a href="http://dx.doi.org/'+r[0].value+'" title="DOI"><span class="text-left">'+t(n[0])+"</span></a>",o){var a,s,c="";for(a=0,s=o.length;a<s;a++)if(c=e(o[a],!0)){i+=c;break}}return i}}}e.module("inspirehepSearch.filters.publicationInfoDoi",[]).filter("publicationInfoDoi",["conferenceFormatFilter","journalFormatFilter",t])}(angular),function(e){function t(){return function(e){if(void 0!==e){for(var t=[],r=0;r<e.length;r++)e[r].value&&t.push(" "+e[r].value);return 0!==t.length?"Report number: "+t:""}}}e.module("inspirehepSearch.filters.reportNumber",[]).filter("reportNumber",t)}(angular),function(e){function t(){return function(e){if(void 0!==e){var t="";return void 0!==e.title&&(t=e.title,void 0!==e.subtitle&&(t+=" : "+e.subtitle)),t}}}e.module("inspirehepSearch.filters.title",[]).filter("title",t)}(angular),function(e){function t(e,t,r){function n(){return[e.can_view_editor].some(function(e){return!0===e})}e.is_authenticated=r.isAuthenticated,e.user_roles=r.userRoles,e.can_view_editor=function(){return!(!e.is_authenticated||-1===e.user_roles.indexOf("cataloger")&&-1===e.user_roles.indexOf("superuser"))}(),e.show_tools=n}t.$inject=["$scope","$element","$attrs"],e.module("permissions.controllers",[]).controller("permissionsCtrl",t)}(angular),function(e){function t(){return{restrict:"A",scope:!0,controller:"permissionsCtrl"}}e.module("permissions.directives",[]).directive("inspirePermissions",t)}(angular);